#!/bin/bash

projects=("bitflow" "hyperbook" "patches" "org" "struktog" "scratch-for-java" "online-ide-nrw" "hyperbook-informatik" "hyperbook-mathematik")

for project in ${projects[@]}
do
  path="$HOME/Sources/openpatch/${project}/main"
  tmux new-session -d -s $project

  window=1
  tmux rename-window -t $project:$window "nvim"
  tmux send-keys -t $project:$window "cd ${path}" C-m
  tmux send-keys -t $project:$window "distrobox enter fedora" C-m

  window=2
  tmux new-window -t $project:$window -n "server"
  tmux send-keys -t $project:$window "cd ${path}" C-m
  tmux send-keys -t $project:$window "distrobox enter fedora" C-m

  window=3
  tmux new-window -t $project:$window -n "git"
  tmux send-keys -t $project:$window "cd ${path}" C-m
  tmux send-keys -t $project:$window "git pull" C-m
  tmux send-keys -t $project:$window "distrobox enter fedora" C-m
done
