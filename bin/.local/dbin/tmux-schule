#!/bin/bash

projects=("schule-material" "hyperbook-spieleentwicklung" "hyperbook-konzeptspeicher" "hyperbook-ki")

for project in ${projects[@]}
do
  path="$HOME/Sources/${project}/main"
  tmux new-session -d -s $project

  window=1
  tmux rename-window -t $project:$window "nvim"
  tmux send-keys -t $project:$window "cd ${path}" C-m
  tmux send-keys -t $project:$window "tbe" C-m

  window=2
  tmux new-window -t $project:$window -n "server"
  tmux send-keys -t $project:$window "cd ${path}" C-m
  tmux send-keys -t $project:$window "tbe" C-m

  window=3
  tmux new-window -t $project:$window -n "git"
  tmux send-keys -t $project:$window "cd ${path}" C-m
  tmux send-keys -t $project:$window "git pull" C-m
  tmux send-keys -t $project:$window "tbe" C-m
done
